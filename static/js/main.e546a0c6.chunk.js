(window.webpackJsonpplowshare_client=window.webpackJsonpplowshare_client||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(22),r=a.n(i),o=(a(30),a(16)),c=a(1),s=a(2),h=a(4),u=a(3),m=a(5),p=a(8),d=a(12),g=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"nav"},l.a.createElement("header",null,l.a.createElement("h3",null,"Nav Component"),l.a.createElement("nav",null,l.a.createElement(p.b,{to:"/home"},"Home"),l.a.createElement(p.b,{to:"/index"},"Listings"),l.a.createElement(p.b,{to:"/new"},"New"),l.a.createElement("button",null,"| Log in |"),l.a.createElement("button",null,"| Sign up |")),l.a.createElement("h1",null,"PlowShare")))}}]),t}(n.Component);var E=function(e){return l.a.createElement("div",{className:"home"},l.a.createElement(p.b,{to:"/new"},"List"),l.a.createElement(p.b,{to:"/index"},"Rent"),l.a.createElement(p.b,{to:"#"},"Posper"))},f=a(11),b=a.n(f),y=(a(37),function(e){function t(){var e,a,n=this;Object(c.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dateContext:b()(),today:b()(),showMonthPopup:!1,showYearPopup:!1},a.weekdaysShort=b.a.weekdaysShort(),a.weekdays=b.a.weekdays(),a.months=b.a.months(),a.year=function(){return a.state.dateContext.format("Y")},a.month=function(){return a.state.dateContext.format("MMMM")},a.daysInMonth=function(){return a.state.dateContext.daysInMonth()},a.currentDay=function(){return a.state.dateContext.format("D")},a.currentDate=function(){return console.log("currentDate: ",a.state.dateContext.get("date")),a.state.dateContext.get("date")},a.firstDayOfMonth=function(){var e=a.state.dateContext;return b()(e).startOf("month").format("d")},a.setMonth=function(e){var t=a.months.indexOf(e),n=Object.assign({},a.state.dateContext);n=b()(n).set("month",t),a.setState({dateContext:n})},a.nextMonth=function(){var e=Object.assign({},a.state.dateContext);e=b()(e).add(1,"month"),a.setState({dateContext:e}),a.props.onNextMonth&&a.props.onNextMonth()},a.prevMonth=function(){var e=Object.assign({},a.state.dateContext);e=b()(e).subtract(1,"month"),a.setState({dateContext:e}),a.props.onPrevMonth&&a.props.onPrevMonth()},a.onSelectChange=function(e,t){a.setMonth(t),a.props.onMonthChange&&a.props.onMonthChange()},a.SelectList=function(e){var t=e.data.map(function(e){return l.a.createElement("div",{key:e},l.a.createElement("a",{href:"#",onClick:function(t){a.onSelectChange(t,e)}},e))});return l.a.createElement("div",{className:"month-popup"},t)},a.onChangeMonth=function(e,t){a.setState({showMonthPopup:!a.state.showMonthPopup})},a.MonthNav=function(){return l.a.createElement("span",{className:"label-month",onClick:function(e){a.onChangeMonth(e,a.month())}},a.month(),a.state.showMonthPopup&&l.a.createElement(n.SelectList,{data:a.months}))},a.showYearEditor=function(){a.setState({showYearNav:!0})},a.setYear=function(e){var t=Object.assign({},a.state.dateContext);t=b()(t).set("year",e),a.setState({dateContext:t})},a.onYearChange=function(e){a.setYear(e.target.value),a.props.onYearChange&&a.props.onYearChange(e,e.target.value)},a.onKeyUpYear=function(e){13!==e.which&&27!==e.which||(a.setYear(e.target.value),a.setState({showYearNav:!1}))},a.YearNav=function(){return a.state.showYearNav?l.a.createElement("input",{type:"number",defaultValue:a.year(),className:"editor-year",ref:function(e){a.yearInput=e},onKeyUp:function(e){a.onKeyUpYear(e)},onChange:function(e){a.onYearChange(e)},placeholder:"year"}):l.a.createElement("span",{className:"label-year",onDoubleClick:function(e){a.showYearEditor()}},a.year())},a.onDayClick=function(e,t){a.setState({selectedDay:t},function(){console.log("SELECTED DAY: ",a.state.selectedDay)}),a.props.onDayClick&&a.props.onDayClick(e,t)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=this,t=this.weekdaysShort.map(function(e){return l.a.createElement("td",{key:e,className:"week-day"},e)}),a=[],n=0;n<this.firstDayOfMonth();n++)a.push(l.a.createElement("td",{key:99*n,className:"emptySlot"},""));for(var i=[],r=function(t){var a=t==e.currentDay()?"day current-day":"day";i.push(l.a.createElement("td",{key:t,className:a},l.a.createElement("span",{onClick:function(a){e.onDayClick(a,t)}},t)))},o=1;o<=this.daysInMonth();o++)r(o);var c=[].concat(a,i),s=[],h=[];c.forEach(function(e,t){if(t%7!==0)h.push(e);else{var a=h.slice();s.push(a),(h=[]).push(e)}if(t===c.length-1){var n=h.slice();s.push(n)}});var u=s.map(function(e,t){return l.a.createElement("tr",{key:100*t},e)});return l.a.createElement("div",{className:"calendar-container"},l.a.createElement("table",{className:"calendar"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"calendar-header"},l.a.createElement("td",{colSpan:"5"},l.a.createElement(this.MonthNav,null)," ",l.a.createElement(this.YearNav,null)),l.a.createElement("td",{colSpan:"2"},l.a.createElement("i",{className:"prev fa fa-fw fa-chevron-left",onClick:function(t){e.prevMonth()}},"prev"),"  ",l.a.createElement("i",{className:"prev fa fa-fw fa-chevron-right",onClick:function(t){e.nextMonth()}},"next")))),l.a.createElement("tbody",null,l.a.createElement("tr",null,t),u)))}}]),t}(n.Component)),v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={day:[]},a.onDayClick=function(e,t){a.setState({day:[].concat(Object(o.a)(a.state.day),[t])})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Show Page"),l.a.createElement(y,{onDayClick:function(t,a){e.onDayClick(t,a)}}))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={showListing:!1,listing:{}},a.toggleShow=function(){a.props.findListing(a.props.listingId),a.setState({showListing:!a.state.showListing})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({listing:this.props.listing})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.showListing?l.a.createElement("div",null,l.a.createElement("h3",null,this.state.listing.title),l.a.createElement("img",{src:this.state.listing.img,alt:this.state.listing.title}),l.a.createElement("h5",null,"Description"),l.a.createElement("p",null,this.state.listing.year," ",this.state.listing.make," ",this.state.listing.model),l.a.createElement("h4",null,"Rate"),l.a.createElement("p",null,"$",this.state.listing.rate,"/day"),l.a.createElement("h5",null,"Location"),l.a.createElement("p",null,this.state.listing.location),l.a.createElement(v,null),l.a.createElement("button",{onClick:this.toggleShow},"Close"),l.a.createElement(p.b,{to:"/edit"},"Edit Listing")):l.a.createElement("div",null,l.a.createElement("h3",null,this.props.listing.title),l.a.createElement("img",{src:this.props.listing.img,alt:this.props.listing.title}),l.a.createElement("h4",null,"Rate"),l.a.createElement("p",null,"$",this.props.listing.rate,"/day"),l.a.createElement("button",{onClick:this.toggleShow},"See Full Listing")))}}]),t}(n.Component);var k=function(e){return l.a.createElement("div",{className:"search-container"},l.a.createElement("form",{action:"",className:"search-form"},l.a.createElement("h3",null,"Book Equipment:"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Location"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"location"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Start Date"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"start-date"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"End Date"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"end-date"}))))},j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={listings:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,null),l.a.createElement("div",{className:"index"},this.props.listings.map(function(t){return l.a.createElement("div",{key:5*t.id},l.a.createElement(C,{listing:t,listings:e.props.listings,listingId:t.id,title:t.title,findListing:e.props.findListing}))})))}}]),t}(n.Component),O=a(15),w="https://plowshare-app-backend.herokuapp.com",x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",img:"",make:"",model:"",year:0,rate:0,location:""},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={title:a.state.title,img:a.state.img,make:a.state.make,model:a.state.model,year:a.state.year,rate:a.state.rate,location:a.state.location};console.log(t),fetch(w+"/equipment",{body:JSON.stringify(t),method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Create a New Listing"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"title"},"Title:"),l.a.createElement("input",{type:"text",value:this.state.title,onChange:this.handleChange,id:"title"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"img"},"Image URL:"),l.a.createElement("input",{type:"text",value:this.state.img,onChange:this.handleChange,id:"img"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"make"},"Make:"),l.a.createElement("input",{type:"text",value:this.state.make,onChange:this.handleChange,id:"make"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"model"},"Model:"),l.a.createElement("input",{type:"text",value:this.state.model,onChange:this.handleChange,id:"model"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"year"},"Year:"),l.a.createElement("input",{type:"number",value:this.state.year,onChange:this.handleChange,id:"year"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"location"},"Location:"),l.a.createElement("input",{type:"textarea",value:this.state.location,onChange:this.handleChange,id:"location"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"rate"},"Cost per Day:"),l.a.createElement("input",{type:"number",value:this.state.rate,onChange:this.handleChange,id:"rate"}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit"})))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={formVisible:!1},a.toggleForm=function(){a.setState({formVisible:!a.state.formVisible})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"New Page"),this.state.formVisible?l.a.createElement(x,null):l.a.createElement("button",{onClick:this.toggleForm},"Add New Listing"))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={listing:{},title:"",img:"",make:"",model:"",year:0,location:"",rate:0},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.handleUpdate=function(e){var t={title:a.state.title,img:a.state.img,make:a.state.make,model:a.state.model,year:a.state.year,location:a.state.location,rate:a.state.rate,id:a.state.listing.id};a.props.handleUpdate(e,t)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({listing:this.props.listing||"",title:this.props.listing.title||"",img:this.props.listing.img||"",make:this.props.listing.make||"",model:this.props.listing.model||"",year:this.props.listing.year||"",location:this.props.listing.location||"",rate:this.props.listing.rate||""})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h3",null,"Edit Listing"),l.a.createElement("form",{onSubmit:this.handleUpdate},l.a.createElement("label",{htmlFor:"title"},"Title:"),l.a.createElement("input",{type:"text",value:this.state.title,onChange:this.handleChange,id:"title"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"img"},"Image URL:"),l.a.createElement("input",{type:"text",value:this.state.img,onChange:this.handleChange,id:"img"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"make"},"Make:"),l.a.createElement("input",{type:"text",value:this.state.make,onChange:this.handleChange,id:"make"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"model"},"Model:"),l.a.createElement("input",{type:"text",value:this.state.model,onChange:this.handleChange,id:"model"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"year"},"Year:"),l.a.createElement("input",{type:"number",value:this.state.year,onChange:this.handleChange,id:"year"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"location"},"Location:"),l.a.createElement("input",{type:"text",value:this.state.location,onChange:this.handleChange,id:"location"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"rate"},"Cost per Day:"),l.a.createElement("input",{type:"number",value:this.state.rate,onChange:this.handleChange,id:"rate"}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit"})),l.a.createElement("button",{onClick:function(){return e.props.handleDelete(e.state.listing)}},"Delete this Listing")))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={listings:[],listing:{}},a.findListing=function(e){var t=Object(o.a)(a.state.listings),n=a.state.listings.findIndex(function(t){return t.id===e});a.setState({listing:t[n]})},a.handleUpdate=function(e,t){e.preventDefault(),console.log(t),fetch(w+"/equipment/".concat(t.id),{body:JSON.stringify(t),method:"PUT",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){a.getListings()}).catch(function(e){return console.log(e)})},a.handleDelete=function(e){fetch(w+"/equipment/".concat(e.id),{method:"DELETE",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){a.getListings()}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getListings()}},{key:"getListings",value:function(){var e=this;fetch(w+"/equipment").then(function(e){return e.json()}).then(function(t){return e.setState({listings:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(p.a,null,l.a.createElement("div",{className:"container"},l.a.createElement(g,null),l.a.createElement(d.a,{path:"/home",exact:!0,component:E}),l.a.createElement(d.a,{path:"/index",render:function(t){return l.a.createElement(j,Object.assign({},t,{listings:e.state.listings,findListing:e.findListing,listing:e.state.listing}))}}),l.a.createElement(d.a,{path:"/edit",render:function(t){return l.a.createElement(L,Object.assign({},t,{findListing:e.findListing,listing:e.state.listing,getListings:e.getListings,handleUpdate:e.handleUpdate,handleDelete:e.handleDelete}))}}),l.a.createElement(d.a,{path:"/new",component:S})))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.e546a0c6.chunk.js.map